# ITEM56) 공개된 API 요소에는 문서화 주석을 작성하라

## 1. 문서화 주석 작성 (Doc comment; 자바독 주석)

- API 문서 - 자바에서 자바독(Javadoc)이라는 유틸리티가 도와준다.
- 문서화 주석 작성 규칙은 [How to Write Doc Comments] 웹페이지에 기술되어 있음.
- 우리의 API를 올바로 문서화하려면 공개된 모든 클래스, 인터페이스, 메서드, 필드 선언에 문서화 주석을 달아야 한다.
- 문서화 주석이 없다면 자바독도 그저 공개 API요소들의 선언만 나열해주는게 전부다.
- 메서드용 문서화 주석에는 해당 메서드와 클라이언트 사이의 규약을 명료하게 기술해야 함.
    
    → 상속용 클래스의 메서드가 아니면 how가 아닌 what을 기술해야 함.
    
- 전제조건, 사후조건, 부작용 문서화해야 한다.
- 잘 쓰인 문서인지를 확인하는 유일한 방법은 자바독 유틸리티가 생성한 웹페이지를 읽어봐야 함

## 2. 잘 쓴 문서화 주석의 예시 및 작성법

```java
/**
* 이 리스트에서 지정한 위치의 원소를 반환한다.
*
* <p>이 메서드는 상수 시간에 수행됨을 보장하지 <i>않는다</i>. 구현에 따라
* 원소의 위치에 비례해 시간이 걸릴 수도 있다.
*
* @param index 반환할 원소의 인덱스; 0 이상이고 리스트 크기보다 작아야 한다.
* @return 이 리스트에서 지정한 위치의 원소
* @throws IndexOutOfBoundsException index가 범위를 벗어나면,
*      즉, ({@code index < 0 || index >= this.size()}) 이면 발생한다.
*
*/
E get(int index);
```

- 자바독 유틸리티는 문서화 주석을 HTML로 반환하므로 문서화 주석 안의 HTML 요소들이 최종 HTML 문서에 반영된다.
- {@code} 태그 : 코드용 폰트로 렌더링, 태그 안에 포함된 HTML 요소나 다른 자바독 태그를 무시
- 여러 줄로 된 코드 예시를 넣으려면 : <pre>{@code… 코드 ….}|</pre>
    
    → 대신 @기호에는 무조건 탈출문자를 붙여야 하니 애너테이션은 조심
    
- @ImplSpec : 해당 메서드와 하위 클래스 사이의 계약을 설명
    - 하위 클래스들이 그 메서드를 상속하거나 super 키워드를 이용해 호출할 때 어떻게 동작하는지 인지시켜줘야 함
    - 자바11 까지도 자바독 명령줄에서 -tag “implSpec:a:Implementation Require ments:” 스위츨 켜주지 않으면 무시됨
- {@literal} : HTML 메타문자 포함시킬 때 사용, HTML마크업이나 자바독 태그를 무시
- API 문서에서의 가독성을 우선시해야 함.
- 각 문서화 주석의 첫 번째 문장은 해당 요송의 요약 설명으로 간주
- 한 클래서(혹은 인터페이스) 안에서 요약 설명이 똑같은 멤버가(혹은 생성자)가 둘 이상이면 안된다.
    
    → 다중정의된 메서드는 조심해야 한다.
    
- 요약 설명에서는 마침표(.)에 주의해야 한다. → 마침표까지만 요약 설명된다.
    
    → {@literal}로 감싸면 해결
    
    → 자바 10부터는 {@summary}라는 요약 설명 전용 태그가 추가됨.
    
- 2인칭 문장이 아닌 3인칭 문장으로 써야 함(한글은 차이 없음)
- 클래스, 인터페이스, 필드의 요약 설명은 대상을 설명하는 명사절이어야 함.
- {@index} : 자바9부터 색인 기능 추가
- 제네릭 타입이나 제네릭 메서드를 문서화할 때는 모든 타입 매개변수에 주석을 달아야 한다.
- 열거 타입을 문서화할 때는 상수들에도 주석을 달아야 한다.
- 애너테이션 타입은 멤버들에도 모두 주석을 달아야 한다.
    
    → 필드 설명은 명사구, 요약 설명은 동사구
    
- 패키지 설명 : [package-info.java](http://package-info.java) 파일에 작성
- 모듈 시스템 관련 설명 : [module-info.java](http://module-info.java) (자바9부터 지원)
- 클래스 혹은 정적 메서드가 스레드 안전하든 그렇지 않든, 스레드 안전 수준을 반드시 API 설명에 포함해야 한다. 직렬화할 수 있는 클래스는 직렬화 형태도 포함해야 한다.
- 자바독은 메서드 주석을 상속시킬 수 있다.
- {@inheritDoc} : 상위 타입의 문서화 주석 일부를 상속할 수 있다. → 재사용 가능하다는 뜻

## 3. 주의 사항

- 복잡한 API 관련 설명 문서가 있다면 관련 클래스나 패키지 주석에 문서의 링크를 제공해주면 좋다.
- 자바독은 잘 작성했는지 확인하는 기능을 제공
    - 자바7에서 -Xdoclint 스위치를 켜주면 기능 활성화 됨 (자바8부터는 기본으로 작동)
    - checkstyle 같은 IDE 플러그인 사용하면 더 좋음.
    - 자바독이 생성한 HTML 파일을 유효성 검사기로 돌리면 오류 줄일 수 있음.
- 더 자세한 내용은 [ Javadoc - guide ] 참고.

<aside>
💡

문서화 주석은 API문서화하는 가장 훌륭한 방법.

공개 API라면 빠짐없이 설명 달아야 한다.

표준 규약을 일관되게 지키자.

</aside>